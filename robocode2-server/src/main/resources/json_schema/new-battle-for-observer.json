{
    "id": "#new-battle-for-observer.json",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "description": "New battle info for an observer. New game has started.",
    "type": "object",
    "properties": {
        "message-type": {
            "enum": [ "new-battle-for-observer" ]
        },
        "game-type": {
            "description": "Type of game",
            "type": "string"
        },
        "obstacles": {
            "description": "Set to true if there are obstacles on the arena",
            "type": "boolean"
        },
        "arena-width": {
            "description": "Width of arena in units",
            "type": "integer"
        },
        "arena-height": {
            "description": "Height of arena in units",
            "type": "integer"
        },
        "min-number-of-participants": {
            "description": "Minimum number of bots participating in battle",
            "type": "integer"
        },
        "max-number-of-participants": {
            "description": "Maximum number of bots participating in battle",
            "type": "integer"
        },
        "number-of-rounds": {
            "description": "Number of rounds in battle",
            "type": "integer"
        },
        "time-limit": {
             "description": "Time limit in milliseconds for sending intent",
             "type": "integer"
        },
        "participants": {
            "description": "List of bots participating in battle",
            "type": "array",
            "items": { "$ref": "#/definitions/participant" }
        }
    },
    "required":
    [
        "message-type",
        "game-type",
        "obstacles",
        "arena-width",
        "arena-height",
        "number-of-rounds",
        "time-limit",
        "participants"
    ],
    "definitions": {
        "participant": {
            "description": "Info for bot participating in battle",
            "type": "object",
            "properties": {
                "id": {
                    "description": "Unique identifier for the participant in a battle",
                    "type": "integer"
                },
                "name": {
                    "description": "Name of bot, e.g. Killer Bee",
                    "type": "string"
                },
                "version": {
                    "description": "Bot version, e.g. 1.0",
                    "type": "string"
                },
		        "game-types": {
		            "description": "Game types supported by this bot",
		            "type": "array",
		            "items": {
		                "type": "string"
		            }
		        },
                "author": {
                    "description": "Author name, e.g. John Doe (john_doe@somewhere.net)",
                    "type": "string"
                },
                "country-code": {
                    "description": "2-letter country code defined by ISO 3166-1",
                    "type": "string",
                    "pattern": "(^[a-z]{2}$)|(^[A-Z]{2}$)"
                },
                "programming-language": {
                    "description": "Language used for programming the bot, e.g. Java 7",
                    "type": "string"
                }
            },
            "required": [ "id", "name", "version" ]
        }
    }
}