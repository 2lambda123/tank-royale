{
	"id": "#new-battle-for-observer.json",
	"$schema": "http://json-schema.org/draft-04/schema#",
	"description": "New battle info for an observer. New game has started.",

	"type": "object",
	"extends": {
		"$ref": "message.json",
		"default": "new-battle-for-observer"
	},
	"properties": {
		"game-type": {
			"description": "Type of game",
			"type": "string"
		},
		"arena-width": {
			"description": "Width of arena in units",
			"type": "integer"
		},
		"arena-height": {
			"description": "Height of arena in units",
			"type": "integer"
		},
		"min-number-of-participants": {
			"description": "Minimum number of bots participating in battle",
			"type": "integer"
		},
		"max-number-of-participants": {
			"description": "Maximum number of bots participating in battle",
			"type": "integer"
		},
		"number-of-rounds": {
			"description": "Number of rounds in battle",
			"type": "integer"
		},
		"turn-timeout": {
			 "description": "Turn timeout in milliseconds for sending intent after having received 'tick' message",
			 "type": "integer"
		},
		"ready-timeout": {
			 "description": "Time limit in milliseconds for sending ready message after having received 'new battle' message",
			 "type": "integer"
		},
		"participants": {
			"description": "List of bots participating in battle",
			"type": "array",
			"items": { "$ref": "#/definitions/participant" }
		}
	},
	"required": [
		"game-type",
		"arena-width",
		"arena-height",
		"number-of-rounds",
		"turn-timeout",
		"ready-timeout",
		"participants"
	],
	"definitions": {
		"participant": {
			"description": "Info for bot participating in battle",
			"type": "object",
			"properties": {
				"id": {
					"description": "Unique identifier for the participant in a battle",
					"type": "integer"
				},
				"name": {
					"description": "Name of bot, e.g. Killer Bee",
					"type": "string"
				},
				"version": {
					"description": "Bot version, e.g. 1.0",
					"type": "string"
				},
				"game-types": {
					"description": "Game types supported by this bot",
					"type": "array",
					"items": {
						"type": "string"
					}
				},
				"author": {
					"description": "Author name, e.g. John Doe (john_doe@somewhere.net)",
					"type": "string"
				},
				"country-code": {
					"description": "2-letter country code defined by ISO 3166-1",
					"type": "string",
					"pattern": "(^[a-z]{2}$)|(^[A-Z]{2}$)"
				},
				"programming-language": {
					"description": "Language used for programming the bot, e.g. Java 7",
					"type": "string"
				}
			},
			"required": [ "id", "name", "version" ]
		}
	}
}