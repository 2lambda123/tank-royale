{
	"id": "#server-handshake.json",
	"$schema": "http://json-schema.org/draft-04/schema#",
	"description": "Server handshake", 

	"type": "object", 
	"extends": {
		"$ref": "message.json",
		"default": "server-handshake"
	},
	"properties": {
		"protocol-version": {
			"type": "string",
			"description": "Protocol version - expected to change",
			"pattern": "^\\d+(\\.\\d+)*$"
		},
		"games": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/game-definition"
			},
			"minItems": 1,
			"uniqueItems": true
		}
	},
	"required": [
		"protocol-version"
	],
	"definitions": {
		"game-definition": {
			"description": "Game definition",
			"type": "object",
			"properties": {
				"game-type": {
					"description": "Type of game",
					"type": "string"
				},
				"arena-width": {
					"description": "Width of arena in units",
					"type": "integer"
				},
				"arena-height": {
					"description": "Height of arena in units",
					"type": "integer"
				},
				"min-number-of-participants": {
					"description": "Minimum number of bots participating in battle",
					"type": "integer"
				},
				"max-number-of-participants": {
					"description": "Maximum number of bots participating in battle",
					"type": "integer"
				},
				"number-of-rounds": {
					"description": "Number of rounds in battle",
					"type": "integer"
				},
				"turn-timeout": {
					 "description": "Turn timeout in milliseconds for sending intent after having received 'tick' message",
					 "type": "integer"
				},
				"ready-timeout": {
					 "description": "Time limit in milliseconds for sending ready message after having received 'new battle' message",
					 "type": "integer"
				}
			},
			"required": [
				"game-type",
				"arena-width",
				"arena-height",
				"min-number-of-participants",
				"turn-timeout",
				"ready-timeout"
			]
		}
	}
}