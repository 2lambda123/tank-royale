<svg version="1.1" width="1800" height="1800" 
  xmlns="http://www.w3.org/2000/svg" 
  xmlns:xlink="http://www.w3.org/1999/xlink">

  <rect x="0" y="0" width="100%" height="100%" fill="grey" />

  <g>
    <use xlink:href="#tank1" />
    <use xlink:href="#tank2" />
    <use xlink:href="#radar-sweep" transform="rotate(50,500,500)" />
    <use xlink:href="#radar-sweep" transform="translate(800,800) rotate(230,500,500)" />
  </g>

  <defs>
    <symbol id="link0">
      <rect x="5" y="55" width="125" height="25" fill="#aaa" />
      <rect x="10" y="70" width="116" height="35" fill="#666" rx="10" ry="10" />
      <rect x="5" y="55" width="125" height="50" fill="none" stroke="black" stroke-width="10" rx="10" ry="10" />
    </symbol>

    <symbol id="link30">
      <rect x="5" y="55" width="125" height="25" fill="#888" />
      <rect x="10" y="70" width="116" height="30" fill="#444" rx="10" ry="10" />
      <rect x="5" y="55" width="125" height="42" fill="none" stroke="black" stroke-width="10" rx="10" ry="10" />
    </symbol>

    <symbol id="link60">
      <rect x="5" y="55" width="125" height="20" fill="#444" />
      <rect x="5" y="55" width="125" height="20" fill="none" stroke="black" stroke-width="10" rx="10" ry="10" />
    </symbol>

    <symbol id="main-track">
      <rect x="20" y="75" width="95" height="450" fill="#333" stroke="black" stroke-width="10" />
    </symbol>

    <symbol id="track1">
      <use xlink:href="#main-track" x="0" y="0" />
      <use xlink:href="#link30" x="0" y="0" />
      <use xlink:href="#link0" x="0" y="60" />
      <use xlink:href="#link0" x="0" y="140" />
      <use xlink:href="#link0" x="0" y="220" />
      <use xlink:href="#link0" x="0" y="300" />
      <use xlink:href="#link0" x="0" y="380" />
      <use xlink:href="#link30" x="0" y="448" />
    </symbol>

    <symbol id="track2">
      <use xlink:href="#main-track" x="0" y="0" />
      <use xlink:href="#link60" x="0" y="0" />
      <use xlink:href="#link0" x="0" y="33" />
      <use xlink:href="#link0" x="0" y="113" />
      <use xlink:href="#link0" x="0" y="193" />
      <use xlink:href="#link0" x="0" y="273" />
      <use xlink:href="#link0" x="0" y="353" />
      <use xlink:href="#link0" x="0" y="433" />
    </symbol>

    <symbol id="track3">
      <use xlink:href="#main-track" x="0" y="0" />
      <use xlink:href="#link0" x="0" y="7" />
      <use xlink:href="#link0" x="0" y="87" />
      <use xlink:href="#link0" x="0" y="167" />
      <use xlink:href="#link0" x="0" y="247" />
      <use xlink:href="#link0" x="0" y="327" />
      <use xlink:href="#link0" x="0" y="407" />
      <use xlink:href="#link60" x="0" y="470" />
    </symbol>

    <symbol id="body">
      <use xlink:href="#track2" x="250" y="200" />
      <use xlink:href="#track3" x="615" y="200" />

      <rect x="340" y="290" width="320" height="420" fill="#019" stroke="black" stroke-width="20" rx="10" ry="10" />
      <rect x="350" y="620" width="300" height="80" fill="black" opacity="0.5" />
    </symbol>

    <symbol id="turret">
      <rect x="400" y="420" width="200" height="200" fill="#06C" stroke="black" stroke-width="20" rx="10" ry="10" />
      <rect x="410" y="560" width="180" height="50" fill="black" opacity="0.5" />

      <rect x="460" y="340" width="80" height="80" fill="url(#cannon-grad)" stroke="black" stroke-width="20" />
      <rect x="475" y="170" width="50" height="170" fill="url(#cannon-grad)" stroke="black" stroke-width="20" />

      <linearGradient id="cannon-grad" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" stop-color="#333" />
        <stop offset="50%" stop-color="#CCC" />
        <stop offset="100%" stop-color="#333" />
      </linearGradient>
    </symbol>

    <symbol id="radar">
      <circle cx="500" cy="500" r="30" fill="#AAF" stroke="black" stroke-width="20" />
      <path d="M 390 520 q 110 100 220 0 z" fill="#AAF" stroke="black" stroke-width="20" />
    </symbol>

    <symbol id="radar-sweep">
      <path d="M 500 500 L 1800,200 1800,800 Z" fill="#FFF8" mask="url(#radar-mask)" />
    </symbol>

    <mask id="radar-mask">
      <circle cx="500" cy="500" r="1300" fill="white"/>
    </mask>

    <symbol id="tank1">
      <use xlink:href="#body" transform="rotate(205,500,500)" />
      <use xlink:href="#turret" transform="rotate(100,500,500)" />
      <use xlink:href="#radar" transform="rotate(140,500,500)" />
    </symbol>

    <symbol id="tank2">
      <use xlink:href="#body" transform="translate(800,800) rotate(172,500,500)" />
      <use xlink:href="#turret" transform="translate(800,800) rotate(290,500,500)" />
      <use xlink:href="#radar" transform="translate(800,800) rotate(320,500,500)" />
    </symbol>

    <symbol id="bounding-sphere">
      <circle cx="500" cy="500" r="250" fill="red" opacity="0.35" />
    </symbol>
  </defs>
</svg>
